---
title: Dialog
description: Display overlay area on top of a page.
---

import {Card} from '@astrojs/starlight/components'
import {Aside} from '@astrojs/starlight/components'
import Demo from '@/demo'

Display overlay area on top of a page and slides in from the side. Build on top of the native HTML [`<dialog/>`](https://developer.mozilla.org/docs/Web/HTML/Element/dialog) element.

```js
import {Dialog} from '@kaiverse/k/ui'
```

## Basic usage

<Demo path="dialog/basic" client:load />

```jsx title="demo.tsx"
function BasicDialog() {
  const [openDialog, setOpenDialog] = useState(false)

  return (
    <>
      <button type="button" onClick={() => setOpenDialog(true)}>
        Open Dialog
      </button>
      <Dialog open={openDialog} onClose={() => setOpenDialog(false)}>
        <Dialog.Header>
          <h2>Dialog header</h2>
        </Dialog.Header>
        Dialog content
        <Dialog.Footer>Dialog Footer</Dialog.Footer>
      </Dialog>
    </>
  )
}
```

## Variants

### `non-modal` mode

A Dialog that has no backdrop and also doesn't render on the top-layer. It can NOT be closed by pressing the `ESC` key and the below page content can be interacted.

<Card>
  <Demo className="relative min-h-[30dvh]" path="dialog/non-modal" client:load />
</Card>

```jsx
<Dialog dialogMode="non-modal" />
```

### `drawer`

A Dialog that slides in from the side of the screen.

<Demo path="dialog/drawer" client:load />

## Accessibility

`Dialog` component build on top of the HTML [`<dialog/>`](https://developer.mozilla.org/docs/Web/HTML/Element/dialog) element.

By default, it respects the default accessibility behavior and settings of a `<dialog/>` element.
You can opt-out some behaviors by using the `preventFocus` and `preventClose` [props](#shared-props).

### Keyboard interactions

| Key                                                                                                   | Description                                                                                                                                                                                                                                          |
| :---------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <kbd className='kbd-sm'>Escape</kbd>                                                                  | Close the `Dialog`. This behavior will be disabled if `dialogMode` is `'non-modal'`.                                                                                                                                                                 |
| <kbd className='kbd-sm'>Spacebar</kbd>                                                                | Trigger focusing element.<p className='not-content'>eg: The close button when a Dialog just opened, and the button that opens the Dialog after closing it. You can continue press <kbd className='kbd-xs'>Spacebar</kbd> to open/close a Dialog.</p> |
| <div className='not-content [&>kbd]:kbd-sm'><kbd>Tab</kbd> \| <kbd>Shift</kbd> + <kbd>Tab</kbd></div> | Cycles through all the focusable elements of the `Dialog` only.                                                                                                                                                                                      |

## Compound components

- `Dialog.Header` — a fully customizable header, usually contains a title and the close button.
- `Dialog.Footer` — bottom section, usually contains actions.

## Customization

### CSS Variables

| Variable                               | Default                          | Description                                                                                                                                           |
| :------------------------------------- | :------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--k-dialog-animation-timing-fn`       | `cubic-bezier(0.32, 0.72, 0, 1)` | Dialog opening and closing stages animation timing function.                                                                                          |
| `--k-dialog-open-animation-duration`   | `500ms`                          | Dialog opening animation duration.                                                                                                                    |
| `--k-dialog-close-animation-duration`  | `200ms`                          | Dialog closing animation duration.                                                                                                                    |
| `--k-dialog-transition-timing-fn`      | `cubic-bezier(0.32, 0.72, 0, 1)` | Dialog opening and closing stages transition timing function.                                                                                         |
| `--k-dialog-open-transition-duration`  | `200ms`                          | Opening transition duration of the Dialog and its backdrop.<br/><small>It affects `opacity`, and discrete transitions (`display`, `overlay`)</small>. |
| `--k-dialog-close-transition-duration` | `200ms`                          | Same as `--k-dialog-open-transition-duration` but for the closing stage.                                                                              |
| `--k-dialog-backdrop-bg`               | `rgba(0, 0, 0, 0.4)`             | Backdrop background.                                                                                                                                  |
| `--k-dialog-backdrop-blur`             | `0`                              | Backdrop blur effect. It will be used by `backdrop-filter`'s `blur` function.                                                                         |
| `--k-dialog-backdrop-opacity`          | `1`                              | Backdrop opacity.                                                                                                                                     |

### Styling Elements

`classNames` and `styles` are 2 more available options for styling the Dialog component and its child elements.<br/>
See the [Special Types section](#special-types) below for available selectors.

<Aside>
  Some examples and demos in the documentation use the `styles` prop for convenience, but it is not
  recommended to use the `styles` prop as the primary means of styling components, as the
  `classNames` prop is more flexible and has better performance.
</Aside>

<Aside type="caution">
  Styles in `styles[selector]` will be ignored if the related selector element's `style` property
  has already provided.
</Aside>

### Styling Backdrop

We can customize the Dialog's backdrop by

- Using the `backdropProps` prop.
- Update related CSS variables.
- Apply styles directly to the `::backdrop` pseudo-element.

<Demo path="dialog/backdrop-styling" client:load />

### Hide close button

You can hide the close button by adding `hideCloseButton` prop to `Dialog.Header`
or just get rid of the `Dialog.Header` component and create your own header.

```jsx
<Dialog>
  <Dialog.Header hideCloseButton>
    <h2>Dialog header</h2>
  </Dialog.Header>
</Dialog>
```

## Special Types

| Name                     | Type                                                               | Description                                                         |
| :----------------------- | :----------------------------------------------------------------- | :------------------------------------------------------------------ |
| `DialogStylingSelectors` | `'root' \| 'header' \| 'content' \| 'footer'`                      | Available selectors of special styles APIs: `classNames`, `styles`. |
| `BackdropProps`          | `{background?: string; blur?: string \| number; opacity?: number}` | `backdropProps` prop's options.                                     |

## `<Dialog>` Props

### Shared Props

| Name            | Type                                                     | Default     | Description                                                                                                                                                                      |
| :-------------- | :------------------------------------------------------- | :---------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `classNames`    | `Partial<Record<DialogStylingSelectors, string>>`        | —           | Applies className to related selector element.<br/><small>See the [Styling section](#styling).</small>                                                                           |
| `styles`        | `Partial<Record<DialogStylingSelectors, CSSProperties>>` | —           | `styles[selector]` applies inline styles to related selector element ONLY if its `style` property has not been provided.<br/><small>See the [Styling section](#styling).</small> |
| `backdropProps` | `BackdropProps`                                          | —           | Styling Dialog's backdrop.                                                                                                                                                       |
| `variant`       | `'default'` \| `'drawer'`                                | `'default'` |                                                                                                                                                                                  |
| `dialogMode`    | `'modal'` \| `'non-modal'`                               | `'modal'`   | `'modal'`<sup>(1)</sup><br/>`'non-modal'`<sup>(2)</sup>                                                                                                                          |
| `preventFocus`  | `boolean`                                                | `false`     | If `true`, disable a default behavior of `<dialog>` element: Browser won't autofocus on the first nested focusable element anymore.                                              |
| `preventClose`  | `boolean`                                                | `false`     | If `true`, the Dialog won't close when users press `Escape` key or click/tap on the backdrop.                                                                                    |

### Variant `'drawer'`

| Name       | Type                                           | Default   | Description                                              |
| :--------- | :--------------------------------------------- | :-------- | :------------------------------------------------------- |
| `position` | `'right'` \| `'bottom'` \| `'left'` \| `'top'` | `'right'` | Side of the screen where the `<Dialog/>` will be opened. |
